# bilibili-polish
这是一个油猴脚本，用来简化哔哩哔哩视频页面

主要实现了将B站最上面的菜单条中不常用的功能，广告内容进行隐藏，将搜索栏中的内容进行隐藏。

拉伸视频选集侧边栏，让视频选集区域更大，更便捷选择视频跳转。

将一些右边的滑动下拉条宽度适当增加，使滑动选择更便利。

将视频播放页面的广告全部隐藏。

整体的效果就是让B站的视频播放页面更加整洁使用。

里面封装了许多不同功能的函数，这些函数被最下面的自执行函数调用，若不需要某些功能，可以在最下面的自执行函数中注释掉

### 内置函数功能

- *function* stretch_collection()
  用来修改视频播放列表的高度。B站自带的视频播放高度太小，我经常对着一个列表的课程刷视频，因此需要这个函数的功能。
  实现原理：获取屏幕高度，下面推荐视频距离屏幕上面的高度，视频列表的高度，进行计算，通过嵌入css样式更改视频列表高度。
- *function* stop_single_page_continuously_play()
  这个函数的功能是当检测到当前视频是一个单视频的时候，在该视频播放结束后，自动点击取消连续播放，因为我不喜欢推送的视频质量，更不喜欢随便的跳转页面。
  实现原理：监听video标签的播放完毕事件，然后去找到取消连播按钮进行点击。
- *function* del_video_page_special_card()
  这个函数用来清除页面上右边栏，弹幕下面的广告，和推荐视频最下面的广告与直播推荐。因为这三个模块对我没用。
  实现原理，用油猴嵌入css样式使其隐藏。
- *function* clean_top_nav()
  这个函数负责清理上面的导航栏，会把上面的番剧，游戏中心，直播，会员购，漫画，赛事等隐藏掉，还会把搜素框中的推荐视频标题隐藏显示，搜素框里面的热点推荐也隐藏了，大会员，创造中心也隐藏了，因为我只使用B站看学习区。清理的有些过分，中间若想暴力，可以注释掉该函数，或去该函数的内部注释掉一部分代码，里面功能实现都分开并写了注释。
  实现原理：通过油猴注入css样式控制
- *function* new_clean_top_nav()
  上面的函数是应用在旧版页面中，这个函数是应用在新版页面中，可根据自己使用的页面显示版本进行选择这两个函数，但默认这两个函数同时使用不会冲突。
- *function* display_charge_button()
  去除充电的按钮，实在贫穷，就直接给去掉了，抱歉。
  这个函数很小，建议关闭吧，留着这个按钮也不丑。

### 注意事项：

- 各个函数的调用顺序请勿随意切换，因为页面加载是异步的，若调用顺序不同可能对函数执行结果产生影响，请注意。
